"use strict";(self.webpackChunkunsuspected_hangeul_ide=self.webpackChunkunsuspected_hangeul_ide||[]).push([[3800],{3800:(t,n,e)=>{function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t){var n={exports:{}};return t(n,n.exports),n.exports}e.r(n),e.d(n,{main:()=>dn,run:()=>gn});var s=i((function(t){var n={};function e(t){return t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.exports=n,n.eastAsianWidth=function(t){var n=t.charCodeAt(0),e=2==t.length?t.charCodeAt(1):0,r=n;return 55296<=n&&n<=56319&&56320<=e&&e<=57343&&(r=(n&=1023)<<10|(e&=1023),r+=65536),12288==r||65281<=r&&r<=65376||65504<=r&&r<=65510?"F":8361==r||65377<=r&&r<=65470||65474<=r&&r<=65479||65482<=r&&r<=65487||65490<=r&&r<=65495||65498<=r&&r<=65500||65512<=r&&r<=65518?"H":4352<=r&&r<=4447||4515<=r&&r<=4519||4602<=r&&r<=4607||9001<=r&&r<=9002||11904<=r&&r<=11929||11931<=r&&r<=12019||12032<=r&&r<=12245||12272<=r&&r<=12283||12289<=r&&r<=12350||12353<=r&&r<=12438||12441<=r&&r<=12543||12549<=r&&r<=12589||12593<=r&&r<=12686||12688<=r&&r<=12730||12736<=r&&r<=12771||12784<=r&&r<=12830||12832<=r&&r<=12871||12880<=r&&r<=13054||13056<=r&&r<=19903||19968<=r&&r<=42124||42128<=r&&r<=42182||43360<=r&&r<=43388||44032<=r&&r<=55203||55216<=r&&r<=55238||55243<=r&&r<=55291||63744<=r&&r<=64255||65040<=r&&r<=65049||65072<=r&&r<=65106||65108<=r&&r<=65126||65128<=r&&r<=65131||110592<=r&&r<=110593||127488<=r&&r<=127490||127504<=r&&r<=127546||127552<=r&&r<=127560||127568<=r&&r<=127569||131072<=r&&r<=194367||177984<=r&&r<=196605||196608<=r&&r<=262141?"W":32<=r&&r<=126||162<=r&&r<=163||165<=r&&r<=166||172==r||175==r||10214<=r&&r<=10221||10629<=r&&r<=10630?"Na":161==r||164==r||167<=r&&r<=168||170==r||173<=r&&r<=174||176<=r&&r<=180||182<=r&&r<=186||188<=r&&r<=191||198==r||208==r||215<=r&&r<=216||222<=r&&r<=225||230==r||232<=r&&r<=234||236<=r&&r<=237||240==r||242<=r&&r<=243||247<=r&&r<=250||252==r||254==r||257==r||273==r||275==r||283==r||294<=r&&r<=295||299==r||305<=r&&r<=307||312==r||319<=r&&r<=322||324==r||328<=r&&r<=331||333==r||338<=r&&r<=339||358<=r&&r<=359||363==r||462==r||464==r||466==r||468==r||470==r||472==r||474==r||476==r||593==r||609==r||708==r||711==r||713<=r&&r<=715||717==r||720==r||728<=r&&r<=731||733==r||735==r||768<=r&&r<=879||913<=r&&r<=929||931<=r&&r<=937||945<=r&&r<=961||963<=r&&r<=969||1025==r||1040<=r&&r<=1103||1105==r||8208==r||8211<=r&&r<=8214||8216<=r&&r<=8217||8220<=r&&r<=8221||8224<=r&&r<=8226||8228<=r&&r<=8231||8240==r||8242<=r&&r<=8243||8245==r||8251==r||8254==r||8308==r||8319==r||8321<=r&&r<=8324||8364==r||8451==r||8453==r||8457==r||8467==r||8470==r||8481<=r&&r<=8482||8486==r||8491==r||8531<=r&&r<=8532||8539<=r&&r<=8542||8544<=r&&r<=8555||8560<=r&&r<=8569||8585==r||8592<=r&&r<=8601||8632<=r&&r<=8633||8658==r||8660==r||8679==r||8704==r||8706<=r&&r<=8707||8711<=r&&r<=8712||8715==r||8719==r||8721==r||8725==r||8730==r||8733<=r&&r<=8736||8739==r||8741==r||8743<=r&&r<=8748||8750==r||8756<=r&&r<=8759||8764<=r&&r<=8765||8776==r||8780==r||8786==r||8800<=r&&r<=8801||8804<=r&&r<=8807||8810<=r&&r<=8811||8814<=r&&r<=8815||8834<=r&&r<=8835||8838<=r&&r<=8839||8853==r||8857==r||8869==r||8895==r||8978==r||9312<=r&&r<=9449||9451<=r&&r<=9547||9552<=r&&r<=9587||9600<=r&&r<=9615||9618<=r&&r<=9621||9632<=r&&r<=9633||9635<=r&&r<=9641||9650<=r&&r<=9651||9654<=r&&r<=9655||9660<=r&&r<=9661||9664<=r&&r<=9665||9670<=r&&r<=9672||9675==r||9678<=r&&r<=9681||9698<=r&&r<=9701||9711==r||9733<=r&&r<=9734||9737==r||9742<=r&&r<=9743||9748<=r&&r<=9749||9756==r||9758==r||9792==r||9794==r||9824<=r&&r<=9825||9827<=r&&r<=9829||9831<=r&&r<=9834||9836<=r&&r<=9837||9839==r||9886<=r&&r<=9887||9918<=r&&r<=9919||9924<=r&&r<=9933||9935<=r&&r<=9953||9955==r||9960<=r&&r<=9983||10045==r||10071==r||10102<=r&&r<=10111||11093<=r&&r<=11097||12872<=r&&r<=12879||57344<=r&&r<=63743||65024<=r&&r<=65039||65533==r||127232<=r&&r<=127242||127248<=r&&r<=127277||127280<=r&&r<=127337||127344<=r&&r<=127386||917760<=r&&r<=917999||983040<=r&&r<=1048573||1048576<=r&&r<=1114109?"A":"N"},n.characterLength=function(t){var n=this.eastAsianWidth(t);return"F"==n||"W"==n||"A"==n?2:1},n.length=function(t){for(var n=e(t),r=0,i=0;i<n.length;i++)r+=this.characterLength(n[i]);return r},n.slice=function(t,r,i){textLen=n.length(t),i=i||1,(r=r||0)<0&&(r=textLen+r),i<0&&(i=textLen+i);for(var s="",o=0,a=e(t),c=0;c<a.length;c++){var u=a[c],h=n.length(u);if(o>=r-(2==h?1:0)){if(!(o+h<=i))break;s+=u}o+=h}return s}})),o=i((function(t,n){!function(n){var e=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},r=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},i=function(){throw SyntaxError("Invalid Param")};function s(t,n){var e=Math.abs(t),r=Math.abs(n);return 0===t?Math.log(r):0===n?Math.log(e):e<3e3&&r<3e3?.5*Math.log(t*t+n*n):(t/=2,n/=2,.5*Math.log(t*t+n*n)+Math.LN2)}function o(t,n){if(!(this instanceof o))return new o(t,n);var e=function(t,n){var e={re:0,im:0};if(null==t)e.re=e.im=0;else if(void 0!==n)e.re=t,e.im=n;else switch(typeof t){case"object":if("im"in t&&"re"in t)e.re=t.re,e.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return o.INFINITY;e.re=t.abs*Math.cos(t.arg),e.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return o.INFINITY;e.re=t.r*Math.cos(t.phi),e.im=t.r*Math.sin(t.phi)}else 2===t.length?(e.re=t[0],e.im=t[1]):i();break;case"string":e.im=e.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,a=0;null===r&&i();for(var c=0;c<r.length;c++){var u=r[c];" "===u||"\t"===u||"\n"===u||("+"===u?s++:"-"===u?a++:"i"===u||"I"===u?(s+a===0&&i()," "===r[c+1]||isNaN(r[c+1])?e.im+=parseFloat((a%2?"-":"")+"1"):(e.im+=parseFloat((a%2?"-":"")+r[c+1]),c++),s=a=0):((s+a===0||isNaN(u))&&i(),"i"===r[c+1]||"I"===r[c+1]?(e.im+=parseFloat((a%2?"-":"")+u),c++):e.re+=parseFloat((a%2?"-":"")+u),s=a=0))}s+a>0&&i();break;case"number":e.im=0,e.re=t;break;default:i()}return e}(t,n);this.re=e.re,this.im=e.im}o.prototype={re:0,im:0,sign:function(){var t=this.abs();return new o(this.re/t,this.im/t)},add:function(t,n){var e=new o(t,n);return this.isInfinite()&&e.isInfinite()?o.NAN:this.isInfinite()||e.isInfinite()?o.INFINITY:new o(this.re+e.re,this.im+e.im)},sub:function(t,n){var e=new o(t,n);return this.isInfinite()&&e.isInfinite()?o.NAN:this.isInfinite()||e.isInfinite()?o.INFINITY:new o(this.re-e.re,this.im-e.im)},mul:function(t,n){var e=new o(t,n);return this.isInfinite()&&e.isZero()||this.isZero()&&e.isInfinite()?o.NAN:this.isInfinite()||e.isInfinite()?o.INFINITY:0===e.im&&0===this.im?new o(this.re*e.re,0):new o(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(t,n){var e=new o(t,n);if(this.isZero()&&e.isZero()||this.isInfinite()&&e.isInfinite())return o.NAN;if(this.isInfinite()||e.isZero())return o.INFINITY;if(this.isZero()||e.isInfinite())return o.ZERO;t=this.re,n=this.im;var r,i,s=e.re,a=e.im;return 0===a?new o(t/s,n/s):Math.abs(s)<Math.abs(a)?new o((t*(i=s/a)+n)/(r=s*i+a),(n*i-t)/r):new o((t+n*(i=a/s))/(r=a*i+s),(n-t*i)/r)},pow:function(t,n){var e=new o(t,n);if(t=this.re,n=this.im,e.isZero())return o.ONE;if(0===e.im){if(0===n&&t>0)return new o(Math.pow(t,e.re),0);if(0===t)switch((e.re%4+4)%4){case 0:return new o(Math.pow(n,e.re),0);case 1:return new o(0,Math.pow(n,e.re));case 2:return new o(-Math.pow(n,e.re),0);case 3:return new o(0,-Math.pow(n,e.re))}}if(0===t&&0===n&&e.re>0&&e.im>=0)return o.ZERO;var r=Math.atan2(n,t),i=s(t,n);return t=Math.exp(e.re*i-e.im*r),n=e.im*i+e.re*r,new o(t*Math.cos(n),t*Math.sin(n))},sqrt:function(){var t,n,e=this.re,r=this.im,i=this.abs();if(e>=0){if(0===r)return new o(Math.sqrt(e),0);t=.5*Math.sqrt(2*(i+e))}else t=Math.abs(r)/Math.sqrt(2*(i-e));return n=e<=0?.5*Math.sqrt(2*(i-e)):Math.abs(r)/Math.sqrt(2*(i+e)),new o(t,r<0?-n:n)},exp:function(){var t=Math.exp(this.re);return new o(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,n=this.im;return new o(Math.expm1(t)*Math.cos(n)+function(t){var n=Math.PI/4;if(-n>t||t>n)return Math.cos(t)-1;var e=t*t;return e*(e*(e*(e*(e*(e*(e*(e/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(n),Math.exp(t)*Math.sin(n))},log:function(){var t=this.re,n=this.im;return new o(s(t,n),Math.atan2(n,t))},abs:function(){return t=this.re,n=this.im,e=Math.abs(t),r=Math.abs(n),e<3e3&&r<3e3?Math.sqrt(e*e+r*r):(e<r?(e=r,r=t/n):r=n/t,e*Math.sqrt(1+r*r));var t,n,e,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new o(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new o(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new o(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new o(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new o(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new o(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,n=this.im,e=new o(n*n-t*t+1,-2*t*n).sqrt(),r=new o(e.re-n,e.im+t).log();return new o(r.im,-r.re)},acos:function(){var t=this.re,n=this.im,e=new o(n*n-t*t+1,-2*t*n).sqrt(),r=new o(e.re-n,e.im+t).log();return new o(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,n=this.im;if(0===t){if(1===n)return new o(0,1/0);if(-1===n)return new o(0,-1/0)}var e=t*t+(1-n)*(1-n),r=new o((1-n*n-t*t)/e,-2*t/e).log();return new o(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,n=this.im;if(0===n)return new o(Math.atan2(1,t),0);var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).atan():new o(0!==t?t/0:0,0!==n?-n/0:0).atan()},asec:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new o(0,1/0);var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).acos():new o(0!==t?t/0:0,0!==n?-n/0:0).acos()},acsc:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new o(Math.PI/2,1/0);var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).asin():new o(0!==t?t/0:0,0!==n?-n/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new o(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new o(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new o(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new o(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new o(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new o(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var n=this.asin();return this.re=-this.im,this.im=t,t=n.re,n.re=-n.im,n.im=t,n},acosh:function(){var t=this.acos();if(t.im<=0){var n=t.re;t.re=-t.im,t.im=n}else n=t.im,t.im=-t.re,t.re=n;return t},atanh:function(){var t=this.re,n=this.im,e=t>1&&0===n,r=1-t,i=1+t,a=r*r+n*n,c=0!==a?new o((i*r-n*n)/a,(n*r+i*n)/a):new o(-1!==t?t/0:0,0!==n?n/0:0),u=c.re;return c.re=s(c.re,c.im)/2,c.im=Math.atan2(c.im,u)/2,e&&(c.im=-c.im),c},acoth:function(){var t=this.re,n=this.im;if(0===t&&0===n)return new o(0,Math.PI/2);var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).atanh():new o(0!==t?t/0:0,0!==n?-n/0:0).atanh()},acsch:function(){var t=this.re,n=this.im;if(0===n)return new o(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).asinh():new o(0!==t?t/0:0,0!==n?-n/0:0).asinh()},asech:function(){var t=this.re,n=this.im;if(this.isZero())return o.INFINITY;var e=t*t+n*n;return 0!==e?new o(t/e,-n/e).acosh():new o(0!==t?t/0:0,0!==n?-n/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var t=this.re,n=this.im,e=t*t+n*n;return new o(t/e,-n/e)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new o(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new o(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new o(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,n){var e=new o(t,n);return Math.abs(e.re-this.re)<=o.EPSILON&&Math.abs(e.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var t=this.re,n=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<o.EPSILON&&(t=0),Math.abs(n)<o.EPSILON&&(n=0),0===n?e+t:(0!==t?(e+=t,e+=" ",n<0?(n=-n,e+="-"):e+="+",e+=" "):n<0&&(n=-n,e+="-"),1!==n&&(e+=n),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,t.exports=o}()})),a=r(o);function c(t){const n="bigint"==typeof t?Number(t):t;return new a(n)}function u(t,n=10n){const e="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,Number(n)),r=BigInt(n);let i,s=1n;if("string"==typeof t){"+"===t[0]?t=t.slice(1):"-"===t[0]&&(s=-1n,t=t.slice(1)),i=t.toLowerCase().split("").map((t=>e.indexOf(t)));const r=i.indexOf(-1);if(-1!==r)throw Error(`다음 글자를 ${n}진법 숫자로 해석할 수 없습니다: '${t[r]}'`)}else i=t;let o=0n;for(let t=0;t<i.length;t++)o*=r,o+=BigInt(i[t]);return o*s}function h(t){return"bigint"!=typeof t&&(t instanceof a?h(t.re)||h(t.im):!(isFinite(t)||isNaN(t)))}function f(t){return"bigint"==typeof t||Number.isInteger(t)}function l(t,n){return n instanceof a?t.re===n.re&&t.im===n.im:0===t.im&&("bigint"==typeof n?m(n,t.re):n===t.re)}function m(t,n){return f(n)&&t===BigInt(n)}function w(t,n){return t instanceof a?l(t,n):n instanceof a?l(n,t):"bigint"==typeof t?m(t,n):"bigint"==typeof n?m(n,t):t===n}function v(t,n,e=1e-9,r=1e-16){if(e<0||r<0)throw RangeError("Tolerances must be non-negative.");if(w(t,n))return!0;if(h(t)||h(n))return!1;const i="bigint"==typeof t?Number(t):t,s="bigint"==typeof n?Number(n):n,o=p(function(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t-n:t instanceof a||n instanceof a?c(t).sub(c(n)):Number(t)-Number(n)}(i,s));return o<=e*p(s)||o<=e*p(i)||o<=r}function p(t){return"bigint"==typeof t?t>=0n?t:-t:t instanceof a?t.abs():Math.abs(t)}function d(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t+n:t instanceof a||n instanceof a?function(t,n){return new a(t.re+n.re,t.im+n.im)}(c(t),c(n)):Number(t)+Number(n)}function g(t,n){return"bigint"==typeof t&&"bigint"==typeof n?t*n:t instanceof a||n instanceof a?function(t,n){return new a(t.re*n.re-t.im*n.im,t.re*n.im+t.im*n.re)}(c(t),c(n)):Number(t)*Number(n)}Math.trunc=Math.trunc||function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)};class y{constructor(t,n,e,r,i){this.filename=void 0,this.line_no=void 0,this.start_col=void 0,this.end_col=void 0,this.line=void 0,this.str=void 0,this.filename=t,this.line_no=n,this.start_col=e,this.end_col=r,this.line=i}toString(){return null==this.str&&(this.str=this.line+"\n"+" ".repeat(s.length(this.line.slice(0,this.start_col)))+"^".repeat(s.length(this.line.slice(this.start_col,this.end_col)))),this.str}}class b{constructor(t,n){this.metadata=void 0,this.value=void 0,this.metadata=t,this.value=n}}class N{constructor(t,n){this.metadata=void 0,this.rel=void 0,this.metadata=t,this.rel=n}}class M{constructor(t,n,e){this.metadata=void 0,this.relA=void 0,this.relF=void 0,this.metadata=t,this.relA=n,this.relF=e}}class x{constructor(t,n){this.metadata=void 0,this.body=void 0,this.metadata=t,this.body=n}}class I{constructor(t,n,e){this.metadata=void 0,this.fun=void 0,this.argv=void 0,this.metadata=t,this.fun=n,this.argv=e}}class E{constructor(t,n){this.funs=void 0,this.args=void 0,this.funs=t,this.args=n}}class $ extends Error{constructor(t){let n="";for(const e of t.metadatas)n+=`${e.filename} ${e.line_no+1}번줄 `,n+=`${e.start_col+1}~${e.end_col+1}번째 글자:\n`,n+=e.toString()+"\n";super(n+"\n"+t.message),this.err=void 0,this.err=t}}class F{asKey(t){return this.format(t)}}function A(t){return isFinite(t)?t.toString():isNaN(t)?"nan":t>0?"inf":"-inf"}class B extends F{constructor(t){super(),this.value=void 0,this.value=t}format(t){return this.value.toString()}}B.typeName="정수";class _ extends F{constructor(t){super(),this.value=void 0,this.value=t}format(t){var n;return A(this.value)+(n=this.value,isFinite(n)&&v(n,Math.floor(n))?".0":"")}asKey(t){return A(this.value)}}_.typeName="실수";class j extends F{constructor(t){super(),this.value=void 0,this.value=t}format(t){const n=this.value.re,e=this.value.im,r=A(n)+(e<0?"":"+");return(0===n?"":r)+(1==e?"":-1==e?"-":A(e))+"i"}asKey(t){return this.value.im?this.format(t):A(this.value.re)}}j.typeName="복소수";class O extends F{constructor(t){super(),this.value=void 0,this.value=t}format(t){return this.value?"True":"False"}}O.typeName="논릿값";class U extends F{constructor(t){super(),this.value=void 0,this.value=t}format(t){return`[${this.value.map((n=>t.strict(n).format(t))).join(", ")}]`}asKey(t){return`[${this.value.map((n=>t.strict(n).asKey(t))).join(", ")}]`}}U.typeName="목록";class C extends F{constructor(t){super(),this.str=void 0,this.value=void 0,this.str=t,this.value=Array.from(t)}format(t){return"'"+this.str+"'"}}C.typeName="문자열";class k extends F{constructor(t){super(),this.value=void 0,this.str=void 0,this.value=t}formatByte(t){return"\\x"+("0"+t.toString(16).toUpperCase()).slice(-2)}format(t){if(!this.str){const t=Array.from(new Uint8Array(this.value)).map(this.formatByte);this.str="b'"+t.join("")+"'"}return this.str}}k.typeName="바이트열";class P extends F{constructor(t){super(),this.value=void 0,this._keys=void 0,this._values=void 0,this.value=t}keys(){return this._keys||(this._keys=Object.keys(this.value).sort()),this._keys}values(){return this._values||(this._values=this.keys().map((t=>this.value[t]))),this._values}format(t){const n=this.values().map((n=>t.strict(n).format(t)));return"{"+this.keys().map(((t,e)=>t+": "+n[e])).join(", ")+"}"}asKey(t){const n=this.values().map((n=>t.strict(n).asKey(t)));return"{"+this.keys().map(((t,e)=>t+": "+n[e])).join(", ")+"}"}}P.typeName="사전";class S extends F{constructor(t,n,e){super(),this.inst=void 0,this.argv=void 0,this.continuation=void 0,this.inst=t,this.argv=n,this.continuation=e}format(t){const n=this.argv.map((n=>t.strict(n).format(t))).join(", ");return`<드나듦 ${this.inst}: [${n}]>`}asKey(t){const n=this.argv.map((n=>t.strict(n).asKey(t))).join(", ");return`<드나듦 ${this.inst}: [${n}]>`}}S.typeName="드나듦";class L extends F{constructor(){super()}format(t){return"Nil"}}L.typeName="빈값";let T=0;class K extends F{constructor(t=""){super(),this.id=void 0,this.str=void 0,this.id=T++,this.str="<"+t+"함수>"}format(t){return this.str}asKey(t){return this.str.replace(">"," #"+this.id+">")}}K.typeName="함수";class Z extends K{constructor(t,n){super(`깊이 ${n.args.length}에서 생성된 `),this.body=void 0,this.env=void 0,this.body=t,this.env=n}execute(t,n,e){const r=this.env.args.concat([e]),i=new E(this.env.funs,r);return new D(this.body,i,null)}}class q extends K{constructor(t,n){super(),this.module=void 0,this.module=t,this.str="<기본 제공 모듈 "+n+">"}execute(t,n,e){return this.module(t,n,e)}}class V extends F{constructor(t,n,e){super(),this.metadatas=void 0,this.message=void 0,this.value=void 0,this.metadatas=t,this.message=n,this.value=e}format(t){return`<예외: [${this.value.map((n=>n.format(t))).join(", ")}]>`}asKey(t){return`<예외: [${this.value.map((n=>n.asKey(t))).join(", ")}]>`}}V.typeName="예외";class D{constructor(t,n,e){this.expr=void 0,this.env=void 0,this.cache=void 0,this.expr=t,this.env=n,this.cache=e}}const Y=[B,_],R=[...Y,j],z=[U,C,k],W=[K,O,P,j,V,...z];function H(){return H=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},H.apply(this,arguments)}const G="ㄱ|ㄱ|ㄴ|ㄷ|ㄷ|ㄹ|ㅁ|ㅂ|ㅂ|ㅅ|ㅅ| ㅇ|ㅈ|ㅈ|ㅈ|ㄱ|ㄷ|ㅂ| ㅎ|ㄴㄱ|ㄴ|ㄴㄷ|ㄴㅂ|ㄷㄱ|ㄹㄴ|ㄹ|ㄹ ㅎ|ㄹ|ㅁㅂ|ㅁ|ㅂㄱ|ㅂㄴ|ㅂㄷ|ㅂㅅ|ㅂㅅㄱ|ㅂㅅㄷ|ㅂㅅㅂ|ㅂㅅ|ㅂㅅㅈ|ㅂㅈ|ㅂㅈ|ㅂㄷ|ㅂㅂ|ㅂ|ㅂ|ㅅㄱ|ㅅㄴ|ㅅㄷ|ㅅㄹ|ㅅㅁ|ㅅㅂ|ㅅㅂㄱ|ㅅㅅ|ㅅ ㅇ|ㅅㅈ|ㅅㅈ|ㅅㄱ|ㅅㄷ|ㅅㅂ|ㅅ ㅎ|ㅅ|ㅅ|ㅅ|ㅅ|ㅅ| ㅇㄱ| ㅇㄷ| ㅇㅁ| ㅇㅂ| ㅇㅅ| ㅇㅅ| ㅇ| ㅇㅈ| ㅇㅈ| ㅇㄷ| ㅇㅂ| ㅇ|ㅈ ㅇ|ㅈ|ㅈ|ㅈ|ㅈ|ㅈㄱ|ㅈ ㅎ|ㅈ|ㅈ|ㅂㅂ|ㅂ| ㅎ| ㅎ|ㄱㄷ|ㄴㅅ|ㄴㅈ|ㄴ ㅎ|ㄷㄹ".split("|"),J="ㄱ|ㄱ|ㄱㅅ|ㄴ|ㄴㅈ|ㄴ ㅎ|ㄷ|ㄷ|ㄹ|ㄹㄱ|ㄹㅁ|ㄹㅂ|ㄹㅅ|ㄹㄷ|ㄹㅂ|ㄹ ㅎ|ㅁ|ㅂ|ㅂ|ㅂㅅ|ㅅ|ㅅ| ㅇ|ㅈ|ㅈ|ㅈ|ㄱ|ㄷ|ㅂ| ㅎ".split("|"),Q="ㄴ|ㄴㄷ|ㄴㅅ|ㄴㅅ|ㄹㄱㅅ|ㄹㄷ|ㄹㅂㅅ|ㅁㅅ|ㅁ|ㅂㄱ|ㅂㄷ|ㅂㅅㄱ|ㅂㅅㄷ|ㅂㅈ|ㅂㄷ|ㅂ|ㅂ|ㅅㄱ|ㅅㄴ| ㅇ| ㅇ| ㅇㅅ| ㅇㅅ|ㅂ| ㅎ| ㅎ".split("|"),X="ㄷㅁ|ㄷㅂ|ㄷㅅ|ㄷㅈ|ㄹㄱ|ㄹㄱ|ㄹㄷ|ㄹㄷ|ㄹㅁ|ㄹㅂ|ㄹㅂ|ㄹㅂ|ㄹㅅ|ㄹㅈ|ㄹㄱ|ㅁㄱ|ㅁㄷ|ㅁㅅ|ㅂㅅㄷ|ㅂㄱ|ㅂ ㅎ|ㅅㅂ| ㅇㄹ| ㅇ ㅎ|ㅈ ㅎ|ㄷ|ㅂ ㅎ| ㅎㅅ| ㅎ".split("|");function tt(t){if(1!==t.length)throw Error("[normalizeChar] Length of string should be 1, not "+t.length+": "+t);function n(n,e,r=1){let i=t.charCodeAt(0)-e.charCodeAt(0);return i=Math.floor(i/r),i>=0&&i<n.length?n[i]:""}return t>="ᄀ"&&t<="ᇿ"?n(G,"ᄀ"):t>="〮"&&t<="〯"?"":t>="ㄱ"&&t<="ㅤ"?n(J,"ㄱ"):t>="ㅥ"&&t<="ㆎ"?n(Q,"ㅥ"):t>="ꥠ"&&t<="ꥼ"?n(X,"ꥠ"):t>="가"&&t<="힯"?n(G,"가",588):t>="ힰ"&&t<="ퟆ"||t>="ퟋ"&&t<="ퟻ"?"":t>="ﾠ"&&t<="ﾾ"?n(J,"ﾡ"):"ￂￃￄￅￆￇￊￋￌￍￎￏￒￓￔￕￖￗￚￛￜ".indexOf(t)>=0?"":" "}function nt(t){return t.split("").map(tt).join("").split(/( )/)}function et(t){const n=t.split("").map((function(t){return"ㄱㄴㄷㄹㅁㅂㅅㅈ".indexOf(t)}));if(-1!==n.indexOf(-1))throw SyntaxError("Argument "+t+" has an unsupported character");let e=BigInt("0o"+n.reverse().join(""));return t.length%2==0&&(e=-e),e}function rt(t){const n=t<0;let e=(t=t>=0?t:-t).toString(8).split("").reverse().map((t=>"ㄱㄴㄷㄹㅁㅂㅅㅈ"[+t])).join("");return e.length%2==0!==n&&(e+="ㄱ"),e}function it(t,n){const[e,r]=t;if(-1!==e.indexOf("ㅎ")){const t=e.slice(1);if(t){const e=Number(et(t));if(e<0)throw new ut(r,`함수 호출 시 ${e}개의 인수를 요구했습니다.`);const i=n.pop();if(null==i)throw new ut(r,"호출할 함수가 없습니다.");if(0===e)n.push(new I(r,i,[]));else{const t=n.splice(-e,e);if(t.length<e)throw new ut(r,`함수 호출 시 ${e}개의 인수를 요구했으나 표현식이 ${t.length}개밖에 없습니다.`);n.push(new I(r,i,t))}}else{const t=n.pop();if(null==t)throw new ut(r,"함수 몸통이 없습니다.");n.push(new x(r,t))}}else if(-1!==e.indexOf("ㅇ")){const t=e.slice(1);if(""!==t){const e=n.pop();if(null==e)throw new ut(r,"인수 참조 구문이 잘못되었습니다.");const i=Number(et(t));n.push(new M(r,e,i))}else{const t=n.pop();if(null==t)throw new ut(r,"함수 참조 구문이 잘못되었습니다.");if(!(t instanceof b))throw new ut(r,"함수 참조 시에는 정수 리터럴만 허용됩니다.");n.push(new N(r,Number(t.value)))}}else n.push(new b(r,et(e)))}function st(t,n){const e=function(t,n){const e=n.split("\n").flatMap(((n,e)=>(n+"\n").split("").flatMap(((r,i)=>nt(r).filter((t=>""!==t)).map((r=>[r,new y(t,e,i,i+1,n)]))))));if(0===e.length)return[];let r=[e[0]];for(const[t,n]of e.slice(1)){const e=r.pop();if(null==e)throw Error("Internal::tokenize::EMPTY_STACK");const[o,a]=e;" "===o&&" "===t?r.push([o,a]):" "!==o&&" "!==t?r.push([o+t,(i=a,s=n,new y(i.filename,i.line_no,i.start_col,s.end_col,i.line))]):(r.push([o,a]),r.push([t,n]))}var i,s;return r.filter((([t,n])=>" "!==t))}(t,n),r=[];for(const t of e)it(t,r);return r}class ot extends ${constructor(t,n,e){const r=[et("ㅂ"),...e].map((t=>new B(t)));super(new V([t],n,r))}}class at extends ot{constructor(t,n){super(t,n,[et("ㅈㅈ")])}}class ct extends ot{constructor(t,n){super(t,n,[et("ㅅㅅ")])}}class ut extends ot{constructor(t,n){super(t,n,[et("ㅁㅂ")])}}class ht extends ot{constructor(t,n){super(t,n,[et("ㄱ")])}}class ft extends ot{constructor(t,n){super(t,n,[et("ㅈㅁ")])}}class lt extends ot{constructor(t,n){super(t,n,[et("ㄴㄴ")])}}class mt extends ot{constructor(t,n){super(t,n,[et("ㅁㅈ")])}}class wt extends ot{constructor(t,n){super(t,n,[et("ㅂ")])}}class vt extends ot{constructor(t,n){super(t,n,[et("ㅂㄱ")])}}function pt(t){return t instanceof D&&t.expr instanceof b}function dt(t){return t.value}function gt(t){const n=t.map((t=>t.byteLength)).reduce(((t,n)=>t+n),0),e=new ArrayBuffer(n),r=new Uint8Array(e);return t.reduce((function(t,n){return r.set(new Uint8Array(n),t),t+n.byteLength}),0),e}function yt(t,n){const e=n(t);if(e instanceof U)return new U(e.value.map((t=>yt(t,n))));if(e instanceof P){const t=e.value,r={};return Object.keys(t).forEach((function(e){r[e]=yt(t[e],n)})),new P(r)}return e instanceof V?new V(e.metadatas,e.message,e.value.map((t=>yt(t,n)))):e}function bt(t){return 0===t.length||t.every((function(n){return n===t[0]}))}function Nt(t,n){return t.every((function(t){return n.some((function(n){return t instanceof n}))}))}function Mt(t,n=", "){return t.join(n)}function xt(t,n,e){if(Nt(n,e))return n;const r=e.map((t=>t.typeName)),i=n.map((t=>t.constructor.typeName));throw new ht(t,`인수를 ${Mt(r)} 중에서 주어야 하는데 ${function(t,n,e){if(0===t.length)return t+"을";const r=t.charCodeAt(t.length-1);return r<44032||r>55203?t+"을":t+((r-44032)%28!=0?"을":"를")}(Mt(i))} 주었습니다.`)}function It(t,n,e){const r=Array.isArray(e)?e:[e];if(-1===r.indexOf(n.length))throw new ft(t,`인수를 ${Mt(r.map((t=>t.toString())),"개나 ")}개를 주어야 하는데 ${n.length}개의 인수를 주었습니다.`)}function Et(t,n,e){if(!(n.length>=e))throw new ft(t,`인수를 ${e}개 이상 주어야 하는데${n.length}개 주었습니다.`)}function $t(t,n,e){if(!(n.length<=e))throw new ft(t,`인수를 ${e}개 이하 주어야 하는데${n.length}개 주었습니다.`)}function Ft(t,n,e,r){return void 0===r&&(r=[]),$t(t,n,e),Et(t,n,e-r.length),n.length<e&&(n=n.concat(r.slice(-(e-n.length)))),n}function At(t){return"bigint"==typeof t?new B(t):t instanceof a?new j(t):new _(t)}var Bt={ㄱ:function(t,n,e){if(Et(n,e,1),Nt(xt(n,[t.strict(e[0])],[O,...R]),R))return At(xt(n,e.map((n=>t.strict(n))),R).map((t=>t.value)).reduce(g));for(const r of e){const[e]=xt(n,[t.strict(r)],[O]);if(!e.value)return new O(!1)}return new O(!0)},ㄷ:function(t,n,e){Et(n,e,1);const r=xt(n,[t.strict(e[0])],[O,P,...R,...z]);if(Nt(r,[O])){for(const r of e){const[e]=xt(n,[t.strict(r)],[O]);if(e.value)return new O(!0)}return new O(!1)}if(Nt(r,[C])){const r=xt(n,e.map((n=>t.strict(n))),[C]);return new C(r.map((t=>t.str)).join(""))}if(Nt(r,[k])){const r=xt(n,e.map((n=>t.strict(n))),[k]);return new k(gt(r.map(dt)))}if(Nt(r,[U])){const r=xt(n,e.map((n=>t.strict(n))),[U]);return new U(r.map(dt).reduce(((t,n)=>t.concat(n))))}if(Nt(r,[P])){const r=xt(n,e.map((n=>t.strict(n))),[P]),i={};return r.map(dt).forEach((t=>Object.assign(i,t))),new P(i)}return At(xt(n,e.map((n=>t.strict(n))),R).map((t=>t.value)).reduce(d))},ㅅ:function(t,n,e){It(n,e,[2,3]);const r=xt(n,e.map((n=>t.strict(n))),R);if(3===r.length){const[e,i,s]=xt(n,r,[B]);try{return new B(function(t,n,e){if(0n===e)throw Error("0을 법으로 할 수 없습니다.");t%=e;let r=1n;for(n<0n&&(n=-n,t=function(t,n){const[e,r,i]=function(t,n){let[e,r,i,s]=[0n,1n,1n,0n];for(;0n!==t;){const o=n/t;[t,n]=[n%t,t],[i,s]=[s,i-o*s],[e,r]=[r,e-o*r]}return[n,e,i]}(t%n,n);if(1n===e)return(r+n)%n;throw Error(`법 ${n}에 대한 ${t}의 역원이 없습니다.`)}(t,e));n>0n;){if(0n===t)return 0n;n%2n===1n&&(r=r*t%e),n/=2n,t=t**2n%e}return r}(e.value,i.value,s.value))}catch(t){if(t instanceof Error)throw new ct(n,t.message);throw t}}It(n,r,2);try{return At(function(t,n){if("bigint"==typeof t&&"bigint"==typeof n&&n>=0)return t**n;const e="bigint"==typeof(r=n)||"number"==typeof r?r:v(r.im,0)?r.re:r;var r;if(!(e instanceof a)&&e<0&&w(t,0))throw Error("0의 역수를 구하려고 했습니다.");return t instanceof a||n instanceof a||t<0&&!f(n)?c(t).pow(c(n)):1===Number(t)?1:Math.pow(Number(t),Number(n))}(r[0].value,r[1].value))}catch(t){if(t instanceof Error)throw new lt(n,t.message);throw t}},ㄴㄴ:function(t,n,e){It(n,e,2);const r=xt(n,e.map((n=>t.strict(n))),Y);try{return At(function(t,n){if(0===Number(n))throw Error("0으로 나눌 수 없습니다.");return"bigint"==typeof t&&"bigint"==typeof n?t/n:Math.trunc(Number(t)/Number(n))}(r[0].value,r[1].value))}catch(t){if(t instanceof Error)throw new lt(n,"0의 역수를 구하려고 했습니다.");throw t}},ㄴㅁ:function(t,n,e){It(n,e,2);const r=xt(n,e.map((n=>t.strict(n))),Y);try{return At(function(t,n){if(0===Number(n))throw Error("0으로 나눌 수 없습니다.");return"bigint"==typeof t&&"bigint"==typeof n?t%n:Number(t)%Number(n)}(r[0].value,r[1].value))}catch(t){if(t instanceof Error)throw new lt(n,"0의 역수를 구하려고 했습니다.");throw t}}};function _t(t,n){const e=Ft(t,n,2,[new B(10n)]),[r]=xt(t,[e[0]],[C]),[i]=xt(t,[e[1]],[B]);return[r.str,Number(i.value)]}var jt={ㅅㅈ:function(t,n,e){const r=e.length;if(r%2==1)throw new ft(n,`ㅅㅈ 함수에는 인수를 짝수 개로 주어야 하는데 ${r}개를 주었습니다.`);const i=e.filter(((t,n)=>n%2==0)),s=e.filter(((t,n)=>n%2==1)),o=i.map((n=>t.strict(n).asKey(t))),a={};for(let t=0;t<r/2;t++)a[o[t]]=s[t];return new P(a)},ㅁㄹ:function(t,n,e){return new U(e)},ㅁㅈ:function(t,n,e){if(It(n,e,[0,1]),0===e.length)return new C("");const[r]=xt(n,[t.strict(e[0])],[C,...R]);return r instanceof C?r:new C(r.format(t))},ㅈㅅ:function(t,n,e){It(n,e,[1,2]);const r=xt(n,e.map((n=>t.strict(n))),[C,...Y]),i=[r[0]];if(Nt(i,Y)){if(It(n,r,1),i[0]instanceof B)return i[0];const t=Math.trunc(i[0].value);return new B(BigInt(t))}const[s,o]=_t(n,r);try{return new B(u(s,o))}catch(t){if(t instanceof Error)throw new ft(n,t.message);throw t}},ㅅㅅ:function(t,n,e){It(n,e,[1,2]);const r=xt(n,e.map((n=>t.strict(n))),[C,...Y]),i=[r[0]];if(Nt(i,Y))return It(n,r,1),new _(Number(i[0].value));const[s,o]=_t(n,r);if(10===o){const t=Number(s);if(isNaN(t))throw new ft(n,`다음 문자열을 실수값으로 변환할 수 없습니다: '${s}'`);return new _(t)}const a=s.trim().split(".");let c=a.join("");"+"===c[0]&&(c=c.slice(1));try{const t=Number(u(c,o));return new _(t/o**(a.length>1?a[1].length:0))}catch(t){throw new ft(n,`다음 문자열을 실수값으로 변환할 수 없습니다: '${s}'`)}},ㅂㅅ:function(t,n,e){It(n,e,[1,2]);const r=xt(n,e.map((n=>t.strict(n))),[C,...R]);if(1===e.length){const t=r[0]instanceof C?r[0].str:r[0].value;try{return new j(c(t))}catch(e){if(e instanceof Error)throw new ft(n,`다음 문자열을 복소수값으로 변환할 수 없습니다: ${t}`);throw e}}const i=xt(n,r,R).map((t=>c(t.value)));return new j(a({re:i[0].re-i[1].im,im:i[0].im+i[1].re}))},ㅂㄱ:function(t,n,e){return It(n,e,0),new L},ㄷㅂ:function(t,n,e){const r=e.map((n=>t.strict(n))),i=`사용자 예외: ${r.map((n=>n.format(t)))}`;return new V([n],i,r)}},Ot={ㄷㅈ:function(t,n,e){It(n,e,1);const[r]=xt(n,e.map((n=>t.strict(n))),[V]);throw new $(r)},ㅅㄷ:function(t,n,e){It(n,e,2);try{return yt(e[0],(n=>t.strict(n)))}catch(r){if(r instanceof $)return t.procFunctional(n,e[1])(t,n,[r.err]);throw r}}};class Ut extends K{constructor(t){super("연결된 "),this.funs=void 0,this.funs=t}execute(t,n,e){return this.funs.reduce(((e,r)=>[r(t,n,e)]),e)[0]}}class Ct extends K{constructor(t,n){super("모아 받는 "),this.context=void 0,this.fn=void 0,this.context=t,this.fn=n}execute(t,n,e){It(n,e,1);const r=this.context.strict(e[0]),[i]=xt(n,[r],[U,V]);return this.fn(t,n,i.value)}}class kt extends K{constructor(t){super("펼쳐 받는 "),this.fn=void 0,this.fn=t}execute(t,n,e){return this.fn(t,n,[new U(e)])}}function Pt(t,n){return e=>t.procFunctional(n,e,!0)}var St={ㄴㄱ:function(t,n,e){return new Ut(e.map(Pt(t,n)))},ㅁㅂ:function(t,n,e){return It(n,e,1),new Ct(t,Pt(t,n)(e[0]))},ㅂㅂ:function(t,n,e){return It(n,e,1),new kt(Pt(t,n)(e[0]))}};const Lt={ㄹ:"r",ㅈㄹ:"w",ㅈㄱ:"a",ㄹㅈㄹ:"r+",ㅈㄹㄹ:"w+",ㅈㄱㄹ:"a+"};class Tt extends K{constructor(t){super("파일 접근 "),this.file=void 0,this.file=t}execute(t,n,e){Et(n,e,1);const[r]=xt(n,e.slice(-1).map((n=>t.strict(n))),[B]),i=rt(r.value);if("ㄷ"===i)return this.close(t,n,e);if("ㄹ"===i)return this.read(t,n,e);if("ㅈㄹ"===i)return this.write(t,n,e);if("ㅈ"===i)return this.seekOrTell(t,n,e);if("ㄱ"===i)return this.truncate(t,n,e);throw new ft(n,`${i}은 파일 객체가 인식하지 못하는 명령입니다.`)}close(t,n,e){var r=this;return It(n,e,1),new S("FileV::close",[this],(async function(t,e){try{return r.file.close(),new L}catch(t){throw new at(n,`파일 닫기에 실패하였습니다: ${t}`)}}))}read(t,n,e){var r=this;It(n,e,2);const[i]=xt(n,[t.strict(e[0])],[B]);return new S("FileV::read",[this,i],(async function(t,e){try{const t=await r.file.read(Number(i.value));return new k(t)}catch(t){throw new at(n,`파일 읽기에 실패하였습니다: ${t}`)}}))}write(t,n,e){var r=this;It(n,e,2);const[i]=xt(n,[t.strict(e[0])],[k]);return new S("FileV::write",[this,i],(async function(t,e){try{const t=r.file.write(i.value);return new B(BigInt(t))}catch(t){throw new at(n,`파일 쓰기에 실패하였습니다: ${t}`)}}))}seekOrTell(t,n,e){var r=this;$t(n,e,3);const i=e.map((n=>t.strict(n)));if(1===e.length)return new S("FileV::seekOrTell",[this],(async function(t,e){try{return new B(BigInt(r.file.tell()))}catch(t){throw new at(n,`파일의 어디를 읽고 있는지 알아내는 데 실패하였습니다: ${t}`)}}));let s,o="SEEK_SET";if(2===e.length)[s]=xt(n,[i[0]],[B]);else{[s]=xt(n,[i[1]],[B]);let[t]=xt(n,[i[0]],[B]);switch(rt(t.value)){case"ㅅㅈㅂㄷ":o="SEEK_SET";break;case"ㅈㄱㅂㄷ":o="SEEK_CUR";break;default:throw new ft(n,`파일 객체의 ㅈ 명령에 주는 위치 인수로 ${t.value}은 적절하지 않습니다.`)}}return new S("FileV::seekOrTell",[this,...i.slice(0,-1)],(async function(t,e){try{const t=r.file.seek(Number(s.value),o);return new B(BigInt(t))}catch(t){throw new at(n,`파일의 읽는 위치를 수정하는 데 실패하였습니다: ${t}`)}}))}truncate(t,n,e){var r=this;$t(n,e,2);const i=xt(n,e.map((n=>t.strict(n))),[B]),s=i.length>1?Number(i[0].value):void 0;return new S("FileV::truncate",[this,...i.slice(0,-1)],(async function(t,e){try{const t=r.file.truncate(s);return new B(BigInt(t))}catch(t){throw new at(n,`파일 크기를 재조정하는 데 실패하였습니다: ${t}`)}}))}}var Kt={ㄹ:function(t,n,e){return It(n,e,0),new S("ㄹ",e,(async function(t,n){const e=await n.input();return null==e?new L:new C(e)}))},ㅈㄹ:function(t,n,e){It(n,e,1);const r=xt(n,e.map((n=>t.strict(n))),[C]);return new S("ㅈㄹ",r,(async function(t,n){return n.print(r[0].str),new L}))},ㄱㅅ:function(t,n,e){It(n,e,1);const r=yt(e[0],(n=>t.strict(n)));return new S("ㄱㅅ",[r],(async function(t,n){return r}))},ㄱㄹ:function(t,n,e){It(n,e,[2,3]);const[r]=xt(n,[t.strict(e[0])],[S]);return new S("ㄱㄹ",e,(async function(i,s){let o;try{o=await i(r)}catch(r){if(r instanceof $){if(e.length<3)throw r;const i=t.procFunctional(n,e[2])(t,n,[r.err]),[s]=xt(n,[t.strict(i)],[S]);return s}throw r}const a=t.procFunctional(n,e[1])(t,n,[o]),[c]=xt(n,[t.strict(a)],[S]);return c}))},ㄱㄴ:function(t,n,e){It(n,e,2);const[r]=xt(n,[t.strict(e[0])],[B,C]),i=r instanceof B?Number(r.value):r.str,[s]=xt(n,[t.strict(e[1])],[B]),o=rt(s.value);if(!(o in Lt))throw new ft(n,`${o}은 기본 제공 함수 ㄱㄴ이 이해하는 파일 열기 방식이 아닙니다.`);const a=Lt[o];return new S("ㄱㄴ",[r,s],(async function(e,r){try{return new Tt(t.loadUtils.open(i,a))}catch(t){throw new at(n,`파일 열기에 실패하였습니다: ${t}`)}}))}};function Zt(t,n){if(0===n.length)return!0;if(!bt(n.map((t=>t.length))))return!1;for(var e=n[0].length,r=0;r<e;r++)if(!qt(t,n.map((t=>t[r]))).value)return!1;return!0}function qt(t,n){const e=n.map((n=>t.strict(n)));return Nt(e,[K])?new O(bt(e)):Nt(e,[P])?new O(function(t,n){if(0===n.length)return!0;const e=n.map((t=>t.keys()));return!!Zt(t,e.map((t=>t.map((t=>new C(t))))))&&e[0].map((t=>n.map((n=>n.value[t])))).map((n=>qt(t,n))).every(dt)}(t,e)):Nt(e,[S])?bt(e.map((t=>t.inst)))?new O(Zt(t,e.map((t=>t.argv)))):new O(!1):Nt(e,R)?new O(0===(r=e.map((t=>t.value))).length||r.slice(1).every((t=>w(t,r[0])))):Nt(e,[U,V])?new O(Zt(t,e.map(dt))):Nt(e,[k])?new O(function(t){if(0===t.length)return!0;if(!bt(t.map((t=>t.byteLength))))return!1;const n=t[0].byteLength,e=t.map((t=>new Uint8Array(t)));for(let t=0;t<n;t++)if(!bt(e.map((n=>n[t]))))return!1;return!0}(e.map(dt))):Nt(e,[C])?new O(bt(e.map((t=>t.str)))):Nt(e,[O])?new O(bt(e.map(dt))):Nt(e,[L])?new O(!0):new O(!1);var r}var Vt={ㄴ:function(t,n,e){return qt(t,e)},ㅁ:function(t,n,e){It(n,e,1);const r=xt(n,e.map((n=>t.strict(n))),[O]);return new O(!r[0].value)},ㅈ:function(t,n,e){It(n,e,2);const r=xt(n,e.map((n=>t.strict(n))),Y);return new O(r[0].value<r[1].value)},ㅈㅈ:function(t,n,e){return It(n,e,0),new O(!0)},ㄱㅈ:function(t,n,e){return It(n,e,0),new O(!1)}};function Dt(t,n){return function(e,r,i){It(r,i,n);const s=xt(r,i.map((t=>e.strict(t))),[B]);return new B(t(...s.map(dt)))}}var Yt={ㅂㄷ:{ㄱ:Dt(((t,n)=>t&n),2),ㄷ:Dt(((t,n)=>t|n),2),ㅁ:Dt((t=>~t),1),ㅂ:Dt(((t,n)=>t^n),2),ㅈ:Dt(((t,n)=>t<<n),2)}};const Rt=["utf","unsigned","signed","float"];class zt extends K{constructor(t,n,e,r){super(),this.scheme=void 0,this.numBytes=void 0,this.bigEndian=void 0,this.endianness=void 0,this.codec=void 0;const[i,s]=xt(t,[n,e],[B]);if(this.scheme=Rt[Number(i.value)],this.numBytes=Number(s.value),this.endianness="",r){const[n]=xt(t,[r],[O]);this.bigEndian=n.value,this.endianness=this.bigEndian?"big":"little"}this.codec=this.getCodec(),this.str="<Codec(scheme="+this.scheme+", num_bytes="+this.numBytes+", big_endian="+this.bigEndian+")>"}execute(t,n,e){const r=e.map((n=>t.strict(n)));try{return this.codec(t,n,r)}catch(t){if(t instanceof $)throw t;throw new ft(n,`요청된 변환을 수행하지 못했습니다. 변환기: ${this.str}, 인수: ${r}`)}}getCodec(){switch(this.scheme){case"utf":return this.unicodeCodec;case"signed":case"unsigned":return this.integerCodec;case"float":return this.floatingPointCodec}}unicodeCodec(t,n,e){It(n,e,1);const[r]=xt(n,e.map((n=>t.strict(n))),[C,k]);if(r instanceof C){if(1===this.numBytes){const t=new TextEncoder;return new k(t.encode(r.str).buffer)}let t;if(2===this.numBytes)t=r.str.split("").map((t=>t.charCodeAt(0)));else{if(4!==this.numBytes)throw new ft(n,`UTF-${8*this.numBytes} 형식은 존재하지 않습니다.`);t=r.value.map((t=>t.codePointAt(0))).filter((t=>null!=t))}""===this.endianness&&t.unshift(65279);const e=new ArrayBuffer(t.length*this.numBytes);return function(t,n,e,r){const i={1:t.setUint8.bind(t),2:t.setUint16.bind(t),4:t.setUint32.bind(t)}[e];if(null==i)throw Error();for(let t=0;t<n.length;t++)i(t*e,n[t],!r)}(new DataView(e),t,this.numBytes,this.bigEndian),new k(e)}{var i;const t=r.value;if(1===this.numBytes){const n=new TextDecoder;return new C(n.decode(new Uint8Array(t)))}let n=new DataView(t),e=null!=(i=this.bigEndian)?i:function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!1),256===new Int16Array(t)[0]}();if(""===this.endianness){const r=(this.numBytes>2?n.getUint32:n.getUint16).bind(n),i=65279===r(0);(i||65279===r(0,!0))&&(e=i,n=new DataView(t,this.numBytes))}const s=function(t,n,e){const r={1:t.getUint8.bind(t),2:t.getUint16.bind(t),4:t.getUint32.bind(t)}[n];if(null==r)throw Error();var i=[];for(let s=0;s<t.byteLength;s+=n)i.push(r(s,!e));return i}(n,this.numBytes,e);return new C(String.fromCodePoint(...s))}}integerCodec(t,n,e){It(n,e,1);const r="signed"===this.scheme,[i]=xt(n,e.map((n=>t.strict(n))),[B,k]);if(i instanceof B){let t=i.value;const n=t<0;if(n&&!r)throw Error("음수는 부호 없는 정수 형식으로 변환할 수 없습니다.");if(!function(t,n,e){const r=2n<<8n*n;return e?-r/2n<=t&&t<r/2n:0n<=t&&t<r}(t,BigInt(this.numBytes),r))throw Error(`${this.numBytes}바이트로 표현할 수 없는 정수를 받았습니다.`);n&&(t=~t);const e=function(t,n=10n){if(t<0n)throw Error("Cannot convert a negative integer into array form.");const e=BigInt(n),r=[];for(;t>0n;)r.push(t%e),t/=e;return r.reverse()}(t,256n).map(Number),s=new ArrayBuffer(this.numBytes),o=new Uint8Array(s);return o.set(e,this.numBytes-e.length),n&&o.forEach(((t,n)=>o[n]=~t)),this.bigEndian||o.reverse(),new k(s)}{const t=i.value.slice(0),n=new Uint8Array(t);this.bigEndian||n.reverse();const e=r&&128&n[0];e&&n.forEach(((t,e)=>n[e]=~t));let s=u(Array.from(n),256);return e&&(s=~s),new B(s)}}floatingPointCodec(t,n,e){throw EvalError("Not yet implemented")}}var Wt={ㅂ:function(t,n,e){It(n,e,[2,3]);const r=e.map((n=>t.strict(n)));return new zt(n,r[0],r[1],r.length>2?r[2]:void 0)}};function Ht(t){return n=>new t(n)}function Gt(t,n,e,r){return function(i,s,o){It(s,o,n);const a=xt(s,o.map((t=>i.strict(t))),r).map((t=>t.value));return e(t(...a))}}function Jt(t){return function(n,e,r){It(e,r,1);const i=xt(e,[n.strict(r[0])],R);if(Nt(i,Y)){const n=Math[t](Number(i[0].value));if(!isNaN(n))return new _(n)}return new j(c(i[0].value)[t]())}}function Qt(t){return function(n,e,r){It(e,r,1);const[i]=xt(e,[n.strict(r[0])],Y);if(i instanceof B)return i;const s=BigInt(t(i.value));return new B(s)}}const Xt=Jt("atan"),tn=Gt(((t,n)=>Math.atan2(Number(t),Number(n))),2,Ht(_),Y),nn=[Yt,Wt,{ㅅ:{ㅂ:Math.PI,ㅈ:Math.E,ㅁ:1/0,ㄴ:NaN,ㄱ:Gt(((t,n)=>v(t,n)),2,Ht(O),R),ㄴㄴ:Gt((function(t){return"bigint"!=typeof t&&(t instanceof a?t.isNaN():isNaN(t))}),1,Ht(O),R),ㅁㄴ:Gt(h,1,Ht(O),R),ㅈㄷ:Gt(p,1,At,R),ㄹㄱ:Jt("log"),ㅅㄴ:Jt("sin"),ㄴㅅ:Jt("asin"),ㄱㅅ:Jt("cos"),ㅅㄱ:Jt("acos"),ㄷㄴ:Jt("tan"),ㄴㄷ:function(t,n,e){return 2===e.length?tn(t,n,e):Xt(t,n,e)},ㅂㄹ:{ㄱ:Qt(Math.trunc),ㄴ:Qt(Math.floor),ㄷ:Qt((function(t){let n=Math.round(t);return t%1!=.5&&t%1!=-.5||n%2!=1&&n%2!=-1||n--,n})),ㄹ:Qt(Math.ceil),ㅁ:Qt((function(t){return t>0?Math.ceil(t):Math.floor(t)}))}}}];var en={},rn=new P({});function sn(t,n){n=t.loadUtils.normalizePath(n);var e=en[n];if(e)return e;const r=st(n,t.loadUtils.load(n));if(1!==r.length)throw new ft(r[0].metadata,`모듈에는 표현식이 하나만 있어야 하는데 ${r.length}개가 있습니다.`);const i=new E([],[]);return e=new D(r[0],i,null),en[n]=e,e}function on(t,n,e){const r=`정수 리터럴열 ${e.map(rt).join(" ")}에 맞는 모듈을 찾지 못했습니다.`;if(5n===e[0]){var i=rn;for(const t of e.slice(1)){if(!(i instanceof P))throw new mt(n,r);i=i.value[t.toString()]}return i}const s=an(t,n,e,".");if(!s)throw new mt(n,r);return sn(t,s)}function an(t,n,e,r){if(0===e.length)return t.loadUtils.isFile(r)?r:null;const i=e[0],s=e.slice(1),o=t.loadUtils.listdir(r).map((e=>{if(!function(t,n){t=nt(t).join(" ").trim();try{return et(t)===n}catch(t){return!1}}(e,i))return null;const o=t.loadUtils.joinPath(r,e);return an(t,n,s,o)})).filter((t=>t));if(o.length>1)throw new wt(n,`${r}에 정수 리터럴열 ${e}에 맞는 모듈이 ${o.length}개 있어 모호합니다.`);return o.length?o[0]:null}function cn(t,n){return"function"==typeof t?new q(t,n.join(" ")):"number"==typeof t?new _(t):un(t,n)}function un(t,n){let e={};for(const r in t)e[et(r).toString()]=cn(t[r],n.concat([r]));return new P(e)}function*hn(t,n,e,r){const i=n<0?n+t.length:n,s=e<0?e+t.length:e;if(r>0){const n=Math.max(0,i),e=Math.min(s,t.length);for(let i=n;i<e;i+=r)yield t[i]}else{const n=Math.min(i,t.length-1),e=Math.max(-1,s);for(let i=n;i>e;i+=r)yield t[i]}}nn.forEach((function(t){const n=un(t,["ㅂ"]);Object.assign(rn.value,n.value)}));const fn=H({},Bt,jt,Ot,St,Kt,Vt,{ㅂ:function(t,n,e){if(Et(n,e,1),e.every(pt))return on(t,n,e.map((t=>t.expr.value)));It(n,e,1);const[r]=xt(n,[t.strict(e[0])],[C]);return sn(t,r.str)}},{ㅈㄷ:function(t,n,e){It(n,e,1);const[r]=xt(n,e.map((n=>t.strict(n))),[...z,V]);return new B(r instanceof k?BigInt(r.value.byteLength):BigInt(r.value.length))},ㅂㅈ:function(t,n,e){It(n,e,[2,3,4]);const r=e.map((n=>t.strict(n))),[i]=xt(n,[r[0]],z),s=xt(n,r.slice(1),[B]).map((t=>Number(t.value))),[o,a,c]=Ft(n,s,3,[(u=i.value,"length"in u?u.length:u.byteLength),1]);var u;if(0===c)throw new ft(n,"0은 ㅂㅈ 함수의 네 번째 인수로 적합하지 않습니다.");if(i instanceof U){const t=hn(i.value,o,a,c);return new U(Array.from(t))}if(i instanceof C){const t=hn(i.value,o,a,c);return new C(Array.from(t).join(""))}const h=hn(Array.from(new Uint8Array(i.value)),o,a,c);return new k(new Uint8Array(h).buffer)},ㅁㄷ:function(t,n,e){It(n,e,2);const[r]=xt(n,[t.strict(e[0])],[U]),i=t.procFunctional(n,e[1]);return new U(r.value.map((e=>i(t,n,[e]))))},ㅅㅂ:function(t,n,e){It(n,e,2);const[r]=xt(n,[t.strict(e[0])],[U]),i=t.procFunctional(n,e[1]),s=r.value.map((e=>t.strict(i(t,n,[e])))),o=xt(n,s,[O]).map(dt);return new U(r.value.filter(((t,n)=>o[n])))},ㅅㄹ:function(t,n,e){It(n,e,[2,3]);let r=null;3===e.length&&(r=e[1],e=[e[0],e[2]]);const i=t.strict(e[0])instanceof U;function s(t){return i?t.slice().reverse():t}e=s(e);const o=t.procFunctional(n,e[0]),[a]=xt(n,[t.strict(e[1])],[U]);let c=s(a.value);return null==r&&(r=c[0],c=c.slice(1)),c.reduce((function(e,r){const i=s([e,r]);return o(t,n,i)}),r)}},{ㅂㄹ:function(t,n,e){It(n,e,[1,2]);const r=xt(n,e.map((n=>t.strict(n))),[C,k]);if(r[0]instanceof C){const t=xt(n,r,[C]),e=t[0].str.split(t.length>1?t[1].str:"");return new U(e.map((t=>new C(t))))}const i=xt(n,r,[k]),s=String.fromCharCode(...new Uint8Array(i[0].value)),o=i.length>1?String.fromCharCode(...new Uint8Array(i[1].value)):"",a=s.split(o).map((t=>new k(new Uint8Array(t.split("").map((t=>t.charCodeAt(0)))).buffer)));return new U(a)},ㄱㅁ:function(t,n,e){It(n,e,[1,2]);const[r]=xt(n,[t.strict(e[0])],[U]),i=xt(n,r.value.map((n=>t.strict(n))),[C,k]);if(i[0]instanceof C){const r=xt(n,i,[C]),s=e.length>1?t.strict(e[1]):new C(""),[o]=xt(n,[s],[C]);return new C(r.map((t=>t.str)).join(o.str))}const s=xt(n,i,[k]),o=e.length>1?t.strict(e[1]):new k(new ArrayBuffer(0)),[a]=xt(n,[o],[k]);if(0===s.length)return new k(new ArrayBuffer(0));const c=[s[0].value];for(const t of s.slice(1))c.push(a.value),c.push(t.value);return new k(gt(c))}});class ln{constructor(t){this.loadUtils=void 0,this.loadUtils=t}strict(t){if(t instanceof D){if(t.cache){if(t.cache instanceof $)throw t.cache;return t.cache}try{return t.cache=this.strict(wn(this,t.expr,t.env)),t.cache}catch(n){throw n instanceof $&&(t.cache=n),n}}return t}procFunctional(t,n,e){if(pt(n))return function(t,n){const e=rt(n),r=fn[e];if(r)return r;throw new mt(t,`${e}이라는 이름의 기본 제공 함수를 찾지 못했습니다.`)}(t,Number(n.expr.value));const r=e?W:[K],[i]=xt(t,[this.strict(n)],r);return i instanceof K?i.execute.bind(i):i instanceof O?function(t,n,e){return It(n,e,2),e[i.value?0:1]}:i instanceof P?function(t,n,e){It(n,e,1);const r=t.strict(e[0]).asKey(t),s=i.value[r];if(s)return s;throw new mt(n,`사전에 다음 표제가 없습니다: ${r}`)}:i instanceof j?function(t,n,e){It(n,e,1);const r=t.strict(e[0]),[s]=xt(n,[r],[B]);if(0n===s.value||1n===s.value)return new _(i.value.toVector()[Number(s.value)]);throw new ft(n,`복소수 객체의 ${s.value}번째 요소를 접근하려고 했습니다.`)}:function(t,n,e){It(n,e,1);const r=t.strict(e[0]),[s]=xt(n,[r],[B]),o=Number(s.value);try{return i instanceof k?new k(function(t,n){const e=n<0?n+t.byteLength:n;if(e<0||e>=t.byteLength)throw Error(`길이 ${t.byteLength}의 바이트열의 ${n}번째 요소를 요청했습니다.`);return t.slice(e,e+1)}(i.value,o)):i instanceof C?new C(mn(i.value,o)):mn(i.value,o)}catch(t){if(t instanceof Error)throw new vt(n,t.message);throw t}}}}function mn(t,n){const e=n<0?n+t.length:n;if(e<0||e>=t.length)throw Error(`길이 ${t.length}의 객체의 ${n}번째 요소를 요청했습니다.`);return t[e]}function wn(t,n,e){if(n instanceof b)return new B(n.value);if(n instanceof N){const t=mn(e.funs,-n.rel-1);if(null==t)throw new vt(n.metadata,"함수 참조의 범위를 벗어났습니다.");return t}if(n instanceof M){if(e.funs.length!==e.args.length)throw Error("Assertion Error: Environment has "+e.funs.length+" funs and "+e.args.length+" args.");const r=mn(e.args,-n.relF-1);if(null==r)throw new vt(n.metadata,"존재하지 않는 함수에 대한 인수 참조를 시도했습니다.");const i=t.strict(wn(t,n.relA,e)),[s]=xt(n.metadata,[i],[B]),o=s.value;if(o<0||o>r.length)throw new vt(n.metadata,`${o}번째 인수를 참조하는데 ${r.length}개의 인수만 받았습니다.`);return r[Number(o)]}if(n instanceof x){var r=e.funs.slice(),i=new E(r,e.args),s=new Z(n.body,i);return i.funs.push(s),s}if(n instanceof I){var o=new D(n.fun,e,null),a=n.argv.map((function(t){return new D(t,e,null)}));return t.procFunctional(n.metadata,o,!0)(t,n.metadata,a)}throw Error("Unexpected expression: "+n)}async function vn(t,n){const e=t=>vn(t,n);for(;t instanceof S;)t=await t.continuation(e,n);return t}async function pn(t,n,e,r){const i=t=>pn(t,n,e,r);if((t=n.strict(t))instanceof S){t=await vn(t,e);const n=await i(t);return r?"IO("+n+")":n}if(t instanceof U)return"["+(await Promise.all(t.value.map(i))).join(", ")+"]";if(t instanceof P){const n=t.value,e=t.keys();return"{"+(await Promise.all(e.map((async t=>t+": "+await i(n[t]))))).join(", ")+"}"}return t instanceof V?"<예외: ["+(await Promise.all(t.value.map(i))).join(", ")+"]>":t.format(n)}async function dn(t,n,e,r,i=!0){const s=st(t,n),o=new ln(r),a=new E([],[]),c=s.map((t=>wn(o,t,a)));return Promise.all(c.map((t=>pn(t,o,e,i))))}async function gn(t,n,e,r,i){const s=new y("<main>",0,0,0,""),o=e.map((t=>new C(t))),a=st(t,n);if(0===a.length)return 0;if(a.length>1){const t=new V(a.map((t=>t.metadata)),`모듈에는 표현식이 하나만 있어야 하는데 ${a.length}개가 있습니다.`,[]);throw new $(t)}const c=new ln(i),u=new E([],[]);let h=c.strict(wn(c,a[0],u));if(h instanceof K){const t=c.procFunctional(s,h);h=c.strict(t(c,s,o))}h instanceof S&&(h=await vn(h,r));const[f]=xt(s,[h],[B,L]);return f instanceof L?0:Number(f.value)}}}]);